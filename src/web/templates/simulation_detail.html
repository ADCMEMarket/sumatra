{% extends "base.html" %}

{% block title %}{{project_name}}: {{record.id}}{% endblock %}

{% block header %}
<form action='{{ request.path }}' method='POST'>
<h1>{{project_name}}: <i>{{record.id}}</i></h1>
<input type="submit" value='Save changes' class="headeritem">
<input type="submit" value='Delete' class="headeritem" name="delete">
{% endblock %}

{% block content %}

<p><a href="previous"><</a> <a href="/">Return to simulation list</a> <a href="next">></a></p>

{{form.errors}}

<table>
    <tr><th>Label:</th><td>{{record.id}}</td></tr>
    <tr><th>Reason:</th><td>{{form.reason}}</td></tr>
    <tr><th>Outcome:</th><td>{{form.outcome}}</td></tr>
    <tr><th>Timestamp:</th><td>{{record.timestamp|date:"d/m/Y H:i:s"}}</td></tr>
    <tr><th>Duration:</th><td>{{record.duration|floatformat:"2"}}&nbsp;s</td></tr>
    <tr><th>Executable:</th><td>{{record.executable.name}} version {{record.executable.version}} ({{record.executable.path}})</td></tr>
    <tr><th>Repository:</th><td>{{record.repository.url}}</td></tr>
    <tr><th>Main file:</th><td>{{record.main_file}}</td></tr>
    <tr><th>Version:</th><td>{{record.version}}</td></tr>
    <tr><th>Tags:</th><td>{{form.tags}}</td></tr>
</table>

</form>

<h2>Data files</h2>
<table>
{% for file in datafiles %}
  <tr class="{% cycle odd,even %}"><td><a href="datafile?path={{file}}">{{file}}</a></td></tr>
{% endfor %}
</table>

<h2>Parameters</h2>
{% for name, value in parameters.items %}
{{name}} = {{value}}<br>{% endfor %}
                        
<h2>Dependencies</h2>
<table>
<tr><th>Name</th><th>Path</th><th>Version</th></tr>
{% for dep in record.dependencies.all %}
<tr><td>{{dep.name}}</td><td>{{dep.path}}</td><td>{{dep.version}}</td></tr>{% endfor %}
</table>

{% endblock %}